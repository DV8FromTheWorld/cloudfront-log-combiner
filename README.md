# cloudfront-log-processor
Utility for manipulating the access log files generated by Cloudfront and stored into s3.

Given that you download the `.gz` files from S3 and place them in a folder called `./gzip`, then this application will ungzip them, 
convert them to `.csv` files, and provide the ability to combine all of the files in a single `.csv` log file. Additionally,
functionality for filtering based on search terms and ip-address ranges is included.

# Install
```
git clone https://github.com/DV8FromTheWorld/cloudfront-log-processor.git
cd cloudfront-log-processor
npm link
```

# Usage
```
Usage: cf-logs <command> [flags]

Commands:
  cf-logs to-csv       Converts all .gz files in the ./gzip folder to .csv files in the ./csv folder
  cf-logs combine-csv  Combines all .csv files in ./csv into a single .csv file in the root directory.
  cf-logs create-log   Creates a unified .csv log file from the .gz files in ./gzip (combo of 'to-csv'
                          and 'combine-csv').

Options:
  --version  Show version number      
  --help     Show help 
```

Main Usage will be `cf-logs create-log`
```
cf-logs create-log

Creates a unified .csv log file from the .gz files in ./gzip (combo of 'to-csv' and 'combine-csv').

Options:
  --version         Show version number                                                               
  --help            Show help                                                                       
  -f, --filter      Filter by specific search terms.                                        
  --ip, --ip-range  specialized form of --filter specifically meant to filter by ip-address ranges

Examples:
  cf-logs create-log
  cf-logs create-log --filter POST --filter GET
  cf-logs create-log --filter /todos --ip-range 10.0.23.2,10.2.0.254
  cf-logs create-log --ip-range 10.0.23.2,10.2.0.254 --ip-range 10.18.77.0,10.12.77.4
  ```

